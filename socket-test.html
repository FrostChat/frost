<script type="module">
import { io } from "https://cdn.socket.io/4.3.2/socket.io.esm.min.js";

const socket = io("http://localhost:8000", {
    transports: ["websocket"]
});

socket.emit('authenticate', {
    api_key: "QmVubnk=.R1B6a3ZSUFIyMDhTOGFDVQ=="
});

socket.on('connect', function() {
    console.log('Connected to server');
});

socket.on('disconnect', () => {
    console.log('Disconnected from server');
})

socket.on('authenticated', (data) => {
    console.log('Authenticated');
    console.log(data);   
})

socket.on('message', (data) => {
    console.log(data)
})
</script>